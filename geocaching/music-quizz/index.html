<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Band Quiz</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
</head>
<body>

<h1>Band Quiz</h1>

<div id="statistics" style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; text-align: center;">
  <div>
    <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;" id="solved-percentage">0%</div>
    <div style="color: #6c757d; font-size: 0.9rem;">Solved</div>
  </div>
  <div>
    <div style="font-size: 1.5rem; font-weight: bold; color: #007bff;" id="listened-percentage">0%</div>
    <div style="color: #6c757d; font-size: 0.9rem;">Listened</div>
  </div>
  <div>
    <div style="font-size: 1.5rem; font-weight: bold; color: #6c757d;" id="total-count">0</div>
    <div style="color: #6c757d; font-size: 0.9rem;">Total Images</div>
  </div>
</div>

<div class="controls">
  <label for="source-select">Source File:</label>
  <select id="source-select">
    <option value="">Select a source file...</option>
  </select>
  <span id="count-display"></span>
  <button id="download-csv" type="button" style="margin-left: 1rem; padding: 0.5rem 1rem; background: #0066cc; color: white; border: none; border-radius: 4px; cursor: pointer;">Download State CSV</button>
</div>

<div id="large-image-display">
  <img id="large-image" src="" alt="Large view">
  <div class="large-info">
    <div><strong>Source:</strong> <span id="large-source"></span></div>
    <div><a id="large-certitude" href="" target="_blank" class="certitude-link">Certitude Link</a></div>
  </div>
  <div class="large-controls">
    <div class="large-status-controls">
      <div class="large-status-row">
        <label><strong>Status:</strong></label>
        <select id="large-status-select" class="large-status-select">
          <option value="unsolved">Unsolved</option>
          <option value="solved">Solved</option>
        </select>
        <label><strong>Artist:</strong></label>
        <div class="band-search-container">
          <input type="text" id="large-band-search" class="band-search-input" placeholder="Search for band...">
          <div id="large-band-dropdown" class="band-dropdown"></div>
        </div>
        <label style="display: flex; align-items: center; gap: 0.5rem; margin-left: 1rem;">
          <input type="checkbox" id="large-listened-checkbox" style="margin: 0;">
          <strong>Listened</strong>
        </label>
      </div>
      <textarea id="large-note-input" 
                class="large-note-input" 
                placeholder="Notes (max 300 chars)..." 
                maxlength="300"></textarea>
      <input type="text" id="large-code-input" class="band-search-input" placeholder="Add code...">
    </div>
  </div>
</div>

<div id="image-container"></div>

<p id="status">Loading dataâ€¦</p>

<script src="script.js"></script>

</body>
</html>